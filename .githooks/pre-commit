#!/usr/bin/env bash
# Pre-commit hook: format check and clippy

set -e

echo "Running cargo fmt..."
cargo fmt
git add -u

echo "Running cargo clippy..."
cargo clippy --all-targets --all-features -- -D warnings 2>/dev/null || {
    echo "  Warning: clippy check failed or not available (non-critical)"
}

echo "Pre-commit checks passed!"
